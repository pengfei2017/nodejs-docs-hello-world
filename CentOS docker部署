# 安装docker 参考地址：https://docs.docker.com/engine/installation/linux/docker-ce/centos/#install-using-the-repository
sudo yum install -y yum-utils device-mapper-persistent-data lvm2

sudo yum-config-manager \
    --add-repo \
    https://download.docker.com/linux/centos/docker-ce.repo
    
sudo yum-config-manager --enable docker-ce-edge

sudo yum makecache fast

sudo yum install docker-ce

# 安装特定版本
列出所有可用版本
yum list docker-ce.x86_64  --showduplicates | sort -r
指定版本号进行安装
sudo yum install docker-ce-<VERSION>

# 启动Docker
sudo systemctl start docker

# 在JenkinsServer上用下面的Dockerfile文件构建jenkins镜像
Dockerfile文件内容如下
FROM jenkinsci/blueocean:latest
USER root
ADD https://get.docker.com/builds/Linux/x86_64/docker-17.05.0-ce.tgz .
RUN mv docker/docker /usr/bin/ && rm -rf docker
USER $USER

编译images
sudo docker build -t reg.chuangjiangx.com/jenkins:lateat .

#启动Jenkins服务器
docker run -d -p 80:8080 -p 50000:50000 -v /var/run/docker.sock:/var/run/docker.sock -v /jenkins_home:/var/jenkins_home reg.chuangjiangx.com/jenkins:lateat
