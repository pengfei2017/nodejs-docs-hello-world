在docker管理主机上执行命令
docker swarm init
export manager_token=$(docker swarm join-token manager -q)
export worker_token=$(docker swarm join-token worker -q)

在每台work主机上执行以下命令加入docker 群
docker swarm join --token SWMTKN-1-62xl6zazqmkqjejnoaswlo33tdlcl5tc3e3benkl54ix6exde9-2k4c87rvteh6polca4xo5kyic 192.168.2.100:2377

在管理员主机上查看所有的群内主机
docker node ls

登录Jenkins建立任务
访问Jenkins服务器192.168.2.100:8080

使用Jenkins配置Git和Maven的自动化构建,使用maven镜像
docker run -it --rm --name my-maven-project -v "$PWD":/usr/src/mymaven -w /usr/src/mymaven maven:3.2-jdk-7 mvn clean install

在docker集群的管理员主机上执行以下命令发布一个多容器应用
docker stack deploy --compose-file docker-stack.yml vote

查看发布后的多容器应用已经启动的所有服务
docker stack services vote
